# Native VM Requirements for SeamlessStreaming Translation Service
# Install these packages when running directly on the VM (no Docker)

# Use versions already installed in the gold image
# Web framework packages (use installed versions)
fastapi>=0.115.0  # Gold image has 0.115.12
uvicorn[standard]>=0.34.0  # Gold image has 0.34.0
websockets>=15.0.0  # Gold image has 15.0.1
aiofiles>=22.1.0  # Gold image has 22.1.0

# Missing packages that need to be installed
python-multipart>=0.0.6

# PyTorch ecosystem - specific versions for compatibility with fairseq2n
# Note: Install these BEFORE seamless_communication to avoid conflicts
torch==2.2.2
torchaudio==2.2.2
torchvision==0.17.2
numpy==1.23.5
fsspec==2024.2.0

# Core ML packages
transformers>=4.37.0
accelerate>=0.25.0
librosa>=0.10.1
soundfile>=0.12.1
sentencepiece>=0.1.99
huggingface-hub>=0.16.0
protobuf>=3.19.0

# Dependencies for seamless_communication (will be installed separately)
# fairseq2 - will be installed automatically with seamless_communication
# simuleval - will be installed automatically with seamless_communication

# Already satisfied by gold image (but may be overridden above for compatibility)
# numpy>=1.24.0 (downgraded to 1.23.5 for fairseq2 compatibility)
# scipy>=1.10.0 (has 1.11.4)